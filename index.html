<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Peakhell的个人网站</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="python,javascript">
<meta property="og:type" content="website">
<meta property="og:title" content="Peakhell的个人网站">
<meta property="og:url" content="https://peakhell.github.io/peakhell-web/index.html">
<meta property="og:site_name" content="Peakhell的个人网站">
<meta property="og:description" content="python,javascript">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Peakhell的个人网站">
<meta name="twitter:description" content="python,javascript">
  
    <link rel="alternate" href="/atom.xml" title="Peakhell的个人网站" type="application/atom+xml">
  
  
    <link rel="icon" href="/peakhell-web/fancybox/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/peakhell-web/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/peakhell-web/" id="logo">Peakhell的个人网站</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/peakhell-web/" id="subtitle">编程,围棋,故事</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/peakhell-web/">Home</a>
        
          <a class="main-nav-link" href="/peakhell-web/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://peakhell.github.io/peakhell-web"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-jQuery笔记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/peakhell-web/2017/06/27/jQuery笔记/" class="article-date">
  <time datetime="2017-06-27T07:27:35.000Z" itemprop="datePublished">2017-06-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/peakhell-web/2017/06/27/jQuery笔记/">jQuery笔记</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>​    jQuery非常好用, 但是也有一些地方要多加留意, 这里总结一下我犯过错误, 权当前车之鉴, 希望各位不要犯和我一样的错.</p>
<ol>
<li>判断元素是否存在</li>
</ol>
<p>判断元素是否存在在前端中应该是常见的操作, 在使用jQuery进行判断时要多加小心, 先看下面的代码</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> ($(<span class="string">'.fly'</span>))&#123;</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">'i can fly'</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>上面的代码看似没有问题, 但由于$(‘.fly’)返回的永远是一个对象, 所以不管<code>.fly</code>存不存在, 判断永远都是True. 正确的判断方法应该是根据元素的长度来判断.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> ($(<span class="string">'.fly'</span>)&gt;<span class="number">0</span>):</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">'i can fly'</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ol>
<li>常见的Dom操作</li>
</ol>
<p>Dom操作主要是对元素节点进行创建, 插入, 删除, 复制, 替换等操作, jQuery提供了一系列的方法方便的对节点进行操作, 但由于Dom操作繁琐复杂, 这里做一个常用Dom操作的总结. 以系统性的学习Dom操作. 为方便理解, 这里以下面的html代码为例进行讲解.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"go"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>围棋国手<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"柯洁"</span>&gt;</span>柯洁<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"唐韦星"</span>&gt;</span>唐韦星<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"李世石"</span>&gt;</span>李世石<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"test"</span>&gt;</span>test<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li>创建元素节点</li>
</ul>
<p>jQuery使用工厂函数$()来创建元素节点. 格式是这样的 </p>
<p><code>$(html)</code></p>
<p>例如在创建两个li标签, 可以这么写</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> $li1 = $(<span class="string">"&lt;li&gt;时越&lt;/li&gt;"</span>)</div><div class="line"><span class="keyword">var</span> $li2 = $(<span class="string">"&lt;li&gt;姜东润&lt;/li&gt;"</span>)</div></pre></td></tr></table></figure>
<p>注意这里的变量命, 前面有个$, 这是为了区分jQuery对象与Dom对象. 上面的代码创建了两个包含文本的li标签,  我们还可以直接创建带有属性值的标签.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> $li3 = $(<span class="string">"&lt;li class='china' title='胡跃峰'&gt;胡跃峰&lt;/li&gt;"</span>)</div></pre></td></tr></table></figure>
<ul>
<li><p>插入元素节点</p>
<p>插入元素节点有很多种方法, 一般而言用的最多的是以下这几个:</p>
</li>
</ul>
<p><code>append()</code> : 向每个匹配的元素中添加内容. 添加的元素在尾部 </p>
<p><code>appendTo()</code>: 将所有匹配的元素追加到指定的元素. 添加的元素在尾部</p>
<p><code>pretend()</code> : 向每个匹配的元素中添加内容. 添加的元素在头部</p>
<p><code>pretendTo()</code> : 将所有匹配的元素添加到指定的元素中, 添加的元素在头部.</p>
<p><code>after()</code>: 在每个匹配的元素之后插入内容</p>
<p><code>before()</code>: 在每个匹配的元素之前插入内容</p>
<p>​    当然jQuery还提供了很多方法供我们插入Dom元素. 但最常见的操作主要还是以上集中, 下面仔细介绍每一种方法的用法.</p>
<p><strong>append</strong></p>
<p>​    append()应该是用的最多插入元素节点的方法了, 其用法也很简单, 先用jQuery选择器选中元素, 然后使用append()方法添加需要添加的元素就可以了.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"ul"</span>).append($li1)</div><div class="line">$(<span class="string">"ul"</span>).append($li2)</div></pre></td></tr></table></figure>
<p>​    上面的代码会在ul标签的内部后面追加两个li标签. 在chrome中可以看到html代码变成了</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"go"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">h2</span>&gt;</span>围棋国手<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"柯洁"</span>&gt;</span>柯洁<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"唐韦星"</span>&gt;</span>唐韦星<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"李世石"</span>&gt;</span>李世石<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>时越<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span>姜东润<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"test"</span>&gt;</span>test<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p><strong>appendTo</strong></p>
<p>​    在插入元素的功能上与append一致, 但用法却正好相反, 看个例子就明白了.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$li1.appendTo(<span class="string">"ul"</span>)</div><div class="line">$li2.appendTo(<span class="string">"ul"</span>)</div></pre></td></tr></table></figure>
<p>生成代码与上个例子的append相同, 但与append的用法不同.两相比较就明白了.</p>
<p><strong>pretend</strong></p>
<p>​    pretend 的用法与append一致, 稍有不同的地方是pretend会在头部追加元素节点.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"ul"</span>).prepend($li1)</div><div class="line">$(<span class="string">"ul"</span>).prepend($li2)</div></pre></td></tr></table></figure>
<p>在chrome中查看源码:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"go"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>围棋国手<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span>姜东润<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span>时越<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"柯洁"</span>&gt;</span>柯洁<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"唐韦星"</span>&gt;</span>唐韦星<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"李世石"</span>&gt;</span>李世石<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"test"</span>&gt;</span>test<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p><strong>pretendTo</strong></p>
<p>​    无需多说了吧.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$li1.pretendTo(<span class="string">"ul"</span>)</div><div class="line">$li2.pretendTo(<span class="string">"ul"</span>)</div></pre></td></tr></table></figure>
<p>​    最后的效果与pretend的例子相同.</p>
<p><strong>after</strong></p>
<p>after会在每个匹配的元素后面添加元素节点, 也就是说使用after插入的是同级元素.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"li:eq(1)"</span>).after($li1)</div></pre></td></tr></table></figure>
<p>上面的代码意思是在第二个li元素后面添加$li1元素节点. 最后的源码是这样的.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"go"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>围棋国手<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"柯洁"</span>&gt;</span>柯洁<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"唐韦星"</span>&gt;</span>唐韦星<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">          	<span class="tag">&lt;<span class="name">li</span>&gt;</span>时越<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"李世石"</span>&gt;</span>李世石<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"test"</span>&gt;</span>test<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p><strong>before</strong></p>
<p>before会在每个匹配的元素前面添加元素节点, 表现的也是同级元素之间的关系.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"li:eq(1)"</span>).before($li1)</div></pre></td></tr></table></figure>
<p>上面的代码意思是在第二个li元素前面添加$li1元素节点, 最后的源码是这样的.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"go"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>围棋国手<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"柯洁"</span>&gt;</span>柯洁<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>时越<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"唐韦星"</span>&gt;</span>唐韦星<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"李世石"</span>&gt;</span>李世石<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"test"</span>&gt;</span>test<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>常见的元素节点的插入主要有以上几种, 注意这些都是可以配合使用的. </p>
<ul>
<li>删除元素节点</li>
</ul>
<p>​    </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://peakhell.github.io/peakhell-web/2017/06/27/jQuery笔记/" data-id="cj4gffknp0006a1cmtiwnrffw" class="article-share-link">Share</a>
      
        <a href="https://peakhell.github.io/peakhell-web/2017/06/27/jQuery笔记/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/peakhell-web/tags/jQuery-前端/">jQuery 前端</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-一些常用的操作总结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/peakhell-web/2017/06/19/一些常用的操作总结/" class="article-date">
  <time datetime="2017-06-19T09:43:36.000Z" itemprop="datePublished">2017-06-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/peakhell-web/2017/06/19/一些常用的操作总结/">一些常用的操作总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <ol>
<li><p>Python 中的virtualenv</p>
<p>python中的虚拟环境是个好东西, 使用Python进行项目开发的过程中往往会有会安装很多第三方包, 如果全部都安装在全局变量中的话无疑会使全局环境变得混乱. 虚拟环境完美的解决了这一问题, 把项目中要安装的第三方包安装在虚拟环境中, 这样就可以保持全局变量的干净, 更重要的是, 如果要在另一台电脑中复现相同的环境, 也可以非常容易的复现出来.</p>
<ul>
<li>创建python3的虚拟环境</li>
</ul>
<p>使用virtualenv默认创建的是linux下的默认Python版本, 也就是python2.7版本, 像我这种用python3的就不能直接用默认的命令,要加一个参数.</p>
<p><code>virtualenv -p python3 venv</code></p>
<p>当然, 每次都这么打肯定烦死, 一个一劳永逸的方法是把python3 当做默认的python版本, 这样就不用每次都打这么长了. 把python3当成默认的python版本主要有两种方法, 一种是别名, 一种是直接修改系统的设置. 这里只说第一种. </p>
<p>编辑自己home目录下的.bashrc文件, 并在最后加上一句</p>
<p><code>alias python=&#39;python3&#39;</code></p>
<p><img src="/peakhell-web/2017/06/19/一些常用的操作总结/alias.jpg" alt="alias"></p>
<p>顺便安利一下这个alias别名命令, 非常好用, 可以把常用的冗长的命令起个剪短的别名, 方便使用.</p>
<ul>
<li>使用sudo时虚拟环境中的包检测不到</li>
</ul>
<p>有一次我要在80端口启动flask程序, 前1024位都是系统服务端口, 必须启用管理员权限才能打开. 于是我在虚拟环境中使用了如下的命令</p>
<p><code>sudo python3 manager.py runserver --host 0.0.0.0 -p 80</code></p>
<p>但是却报了如下的错误.</p>
<p><img src="/peakhell-web/2017/06/19/一些常用的操作总结/models.jpg" alt="flask"></p>
<p>flask包没有安装, 可是虚拟环境中已经安装了啊. 这时候要注意了, 你已经掉入了linux sudo中的一个小坑了. 先用下面的命令查看这条命令使用了哪个地方的python3</p>
<p><img src="/peakhell-web/2017/06/19/一些常用的操作总结/envir.jpg" alt=""></p>
</li>
</ol>
<p>​    可以看到, 当使用了sudo之后, 这时候的python是全局中的python, 而并不是虚拟环境中的python, 自然虚拟环境中的包就无法调用了.解决方法是将python换成虚拟环境中的python,可以这么写</p>
<p>​    <code>sudo venv/bin/python3 manager.py runserver --host 0.0.0.0 -p 80</code></p>
<p>​    </p>
<ol>
<li>​</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://peakhell.github.io/peakhell-web/2017/06/19/一些常用的操作总结/" data-id="cj4gffknq0007a1cmengvrw4e" class="article-share-link">Share</a>
      
        <a href="https://peakhell.github.io/peakhell-web/2017/06/19/一些常用的操作总结/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/peakhell-web/tags/python-git/">python git</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Flask-Api-总结" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/peakhell-web/2017/06/09/Flask-Api-总结/" class="article-date">
  <time datetime="2017-06-09T04:01:11.000Z" itemprop="datePublished">2017-06-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/peakhell-web/2017/06/09/Flask-Api-总结/">Flask Api 总结</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>​    最近使用flask做一个客户端的api接口, 学到了不少, 在这里总结用一下, 权当笔记.</p>
<p>​    http 协议中共有8种请求方法, 常用的有6种,  如下图:</p>
<ul>
<li><strong>GET     请求获取Request-URI所标识的资源</strong></li>
</ul>
<ul>
<li><strong>POST    在Request-URI所标识的资源后附加新的数据</strong></li>
</ul>
<ul>
<li>HEAD    请求获取由Request-URI所标识的资源的响应消息报头</li>
</ul>
<ul>
<li>PUT     请求服务器存储一个资源，并用Request-URI作为其标识</li>
</ul>
<ul>
<li><p>DELETE  请求服务器删除Request-URI所标识的资源</p>
</li>
<li><p>OPTIONS 请求查询服务器的性能，或者查询与资源相关的选项和需求</p>
<p>其中我们在开发过程中最常用的就是<strong>GET和POST</strong>请求方式.</p>
<ol>
<li>flask中处理GET请求</li>
</ol>
<p>首先我们要知道, GET请求是明文请求, 它会把所有的参数都拼接在URL后面. 我们可以用先看个例子.</p>
<p><code>$.ajax({</code></p>
<p>​    <code>url: &quot;/sample/download_report&quot;,</code></p>
<p>​    <code>type: &quot;GET&quot;,</code> </p>
<p>​    <code>data: {&quot;sampleNumber&quot;:1},</code> </p>
<p>​    <code>success: function (data) {</code>  </p>
<p>​    <code>data.save()</code> </p>
<p>​    <code>}</code>   </p>
<p><code>})</code> </p>
<p>这是用jQuery写的使用GET请求方法向后端请求资源的方法. 可以看到我们构造了一个data, 并向url为”/sample/download_report”(相对地址)请求资源. 那么实际上上面的请求相当于</p>
<p><code>/smaple/download_report?sampleNumber=1</code></p>
<p>​    这一点要注意, 那么flask中怎么获取前端传来的请求数据呢.很简单, 以上面的代码为例, 我们要在flask中获取sampleNumber的话,只要</p>
<p><code>from flask import request</code></p>
<p><code>@api.route(&#39;/sample/download_report&#39;, methods=[&#39;GET&#39;])</code></p>
<p><code>def sample_bind():</code></p>
<p>​    <code>sampleNumber = request.args.get(&quot;sampleNumber&quot;)</code></p>
</li>
</ul>
<p>关键的语句就是<code>request.args.get(&#39;sampleNumber&#39;)</code></p>
<p>然后对输入的数据进行处理, 并返回就行了.</p>
<pre><code>2.    flask中处理POST请求.
</code></pre><p>处理POST请求稍微麻烦一点. 但falsk同样提供了方法供我们获取前端的数据.</p>
<p>前端请求数据代码:</p>
<p><code>var data = {    &quot;username&quot;: &quot;peakhell&quot;,</code> <code>&quot;sample_id&quot;: 1</code>  <code>};</code></p>
<p><code>$.ajax({</code></p>
<p>​    <code>url : &quot;/test&quot;,</code></p>
<p>​    <code>type: &quot;POST&quot;,</code></p>
<p>​    <code>headers: {</code></p>
<p>​    <code>&#39;Content-Type&#39;:&#39;application/json&#39;    },</code>       </p>
<p>​    <code>data: JSON.stringify(data),</code>    </p>
<p>​    <code>success: function(data){        console.log(&quot;success&quot;)    }</code>    </p>
<p><code>});</code></p>
<p>首先声明请求方式为POST, 然后将字典数据json化.</p>
<p>这个时候flask怎么获取POST的数据呢</p>
<p><code>@api.route(&quot;/test&quot;, methods=[&#39;GET&#39;, &#39;POST&#39;])</code></p>
<p><code>def test():</code></p>
<p>​    <code>sample_id = request.json.get()&#39;sample_id&#39;)</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://peakhell.github.io/peakhell-web/2017/06/09/Flask-Api-总结/" data-id="cj4gffknf0001a1cmqrgb9r5y" class="article-share-link">Share</a>
      
        <a href="https://peakhell.github.io/peakhell-web/2017/06/09/Flask-Api-总结/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/peakhell-web/tags/flask/">flask</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-让D3绘制的力导向图发光" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/peakhell-web/2017/05/31/让D3绘制的力导向图发光/" class="article-date">
  <time datetime="2017-05-31T09:57:19.000Z" itemprop="datePublished">2017-05-31</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/peakhell-web/2017/05/31/让D3绘制的力导向图发光/">让D3绘制的力导向图发光</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://peakhell.github.io/peakhell-web/2017/05/31/让D3绘制的力导向图发光/" data-id="cj4gffknu000ca1cmhsqvf1c4" class="article-share-link">Share</a>
      
        <a href="https://peakhell.github.io/peakhell-web/2017/05/31/让D3绘制的力导向图发光/#disqus_thread" class="article-comment-link">Comments</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-写给快要毕业的自己" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/peakhell-web/2017/05/18/写给快要毕业的自己/" class="article-date">
  <time datetime="2017-05-18T03:46:24.000Z" itemprop="datePublished">2017-05-18</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/peakhell-web/categories/杂想/">杂想</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/peakhell-web/2017/05/18/写给快要毕业的自己/">写给快要毕业的自己</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>​    不知不觉中毕业季都快过去了. 和南区三傻聚完餐, 我便匆匆搭乘公交回到公司, 一如既往的拥挤, 空气中弥漫着空调与汽油的混合气味,不好闻但也可以忍受. 路上还坐反了一次公交, 以至于回到中科院宿舍时, 都已经快10点了.  第二天的早上8点, 又要开始一天的上班生活了, 写代码,看文档,查谷歌… 生活的轨迹似乎前所未有的明确. 除了这个月末最后一次的毕业典礼, 就再也没有什么事情要回深大处理了. 毕业, 就近在眼前了.</p>
<p>​    虽然不是第一次毕业, 但这一次, 是特殊的. 不读研的我, 从此就要走向社会, 走上工作之路了. 说不上太多的伤感, 只是有时候会觉得要是回到大一该多好啊, 再去经历一次大学生活, 和朋友们一起去桂庙吃宵夜与烧烤, 聊一聊课程八卦与未来. 只是现在再聚, 恐怕再也没有之前的意气了. 临近毕业, 我们仍是嘻嘻哈哈的打着游戏互怼, 煲粥聊天玩手机. 在1627这个宿舍, 好像我们都可以毫无顾忌的展示自己最慵懒而自然的状态. 只是日后, 不知何时还能聚在一起开黑玩游戏了.</p>
<p>​    就这样吧, 想起江南在&lt;此间的少年&gt;中开篇所写道:  而当记忆中的场景再次出现在眼前的时候，我忽然意识到，终有一天我们的过往都会被讲述成一个故事，这个故事可以有很多种讲法，可以有不同的主角，不同的喜悦或者悲伤，但无论怎样，所有的故事都始于一个同样的开头，喧嚣或沉默着的每一个人，都将各怀心事地登场。于是我回忆起那一年我们的相逢，这是一个故事所需要的开场。</p>
<p>​    </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://peakhell.github.io/peakhell-web/2017/05/18/写给快要毕业的自己/" data-id="cj4gffkns000aa1cm1wx8gtoq" class="article-share-link">Share</a>
      
        <a href="https://peakhell.github.io/peakhell-web/2017/05/18/写给快要毕业的自己/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/peakhell-web/tags/故事/">故事</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-git常用操作2" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/peakhell-web/2017/05/09/git常用操作2/" class="article-date">
  <time datetime="2017-05-09T07:19:46.000Z" itemprop="datePublished">2017-05-09</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/peakhell-web/categories/编程/">编程</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/peakhell-web/2017/05/09/git常用操作2/">git常用操作2</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>​    第一节主要介绍了git操作中常用到的添加,提交,版本切换,以及添加错误信息之后的撤销操作.这些操作都是在同一分支上的,这一节介绍一下git中一个非常重要的功能–分支.</p>
<ol>
<li><p>什么是分支</p>
<p>设想你正在开发一个程序, 老板要你开发一个新的功能,几个小时后,你开发完成.并提交上git.这时你收到老板的消息,经费不足,新功能取消,虽然操蛋,但是你还是得照办,于是你把版本回退到上一个.等等,这时候新功能我还想留着自己玩怎么办.git提供了分支来实现这个功能. 当开发一个项目新功能时, 我们可以开一个分支, 在分支上开发,这样就不会影响主分支,等确认开发完毕我们在和主分支进行合并.这样就很保险了.</p>
</li>
<li><p>创建新分支</p>
<p>在git中创建新分支十分简单, 新建一个分支:</p>
<p>​    <code>git branch dev</code>  </p>
<p>新建并切换到建立的分支:</p>
<p>​    <code>git checkout -b dev</code></p>
<p>相当于下面两个命令:</p>
<p>​    <code>gitbranch dev</code></p>
<p>​    <code>git chekcout dev</code></p>
<p>还有一个非常常用的命令是查看分支状态:</p>
<p>​    <code>git branch</code></p>
<p>这个命令将会列出所有的分支并指出当前处于哪个分支.</p>
<p>​</p>
<p>​</p>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://peakhell.github.io/peakhell-web/2017/05/09/git常用操作2/" data-id="cj4gffknn0004a1cmxx9672nd" class="article-share-link">Share</a>
      
        <a href="https://peakhell.github.io/peakhell-web/2017/05/09/git常用操作2/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/peakhell-web/tags/git/">git</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-git常用操作1" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/peakhell-web/2017/05/05/git常用操作1/" class="article-date">
  <time datetime="2017-05-05T07:19:40.000Z" itemprop="datePublished">2017-05-05</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/peakhell-web/categories/编程/">编程</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/peakhell-web/2017/05/05/git常用操作1/">git常用操作1</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p> Git 是一个非常优秀的版本控制系统。最近在项目中常常用到Git，因此总结了这段时间常用到的操作与踩过的坑，当做一个学习笔记。</p>
<ol>
<li><p><strong>添加多个文件</strong></p>
<p> 在git中添加单个文件很简单，用下面的命令就可以了。</p>
<p> <code>git add &lt;filename&gt;</code></p>
<p> 但有时候我们可能一次性修改了很多文件，这时候一个一个添加显然不太可行，所幸git提供了提交多个文件的命令。</p>
<p> <code>git add .</code> 添加该目录下所有文件，但不包括删除的文件（常用）</p>
<p> <code>git add -A</code> 添加该目录下所有文件</p>
<p> 常用的添加多个文件的命令就上面两个，注意其中细微的区别。当然，大多数情况下用起来是一样的。只有当你用过</p>
<p> <code>git rm &lt;filename&gt;</code>删除文件后才有细微的区别。具体的区别看<a href="http://stackoverflow.com/questions/572549/difference-between-git-add-a-and-git-add" target="_blank" rel="external">这里</a> ,一般用不到，我也就不细讲了。</p>
</li>
<li><p><strong>版本切换</strong></p>
<p>提交多次之后，有时候可能对当前的开发不满意，想回退到上一个版本。git中用HEAD表示当前版本，上一次提交的版本是HEAD^,上上次提交的版本是HEAD^^,以此类推。那么想要回到上一次提交的命令就是</p>
<p><code>git reset --hard HEAD^</code></p>
</li>
</ol>
<p>等等，这样版本回退一两次还行，但是我已经忘记了要回退多少次怎么办？有办法的，首先使用命令<code>git log</code>查看提交的历史，以我的项目为例子，大概是这样子的。</p>
<p><img src="/peakhell-web/2017/05/05/git常用操作1/gitlog.png" alt="gitlog">gitlog</p>
<p> 找到你想要回退的那个版本，然后注意上面有个十六进制码commit id，这个是每次提交时git赋予的唯一标志码。使用这个就可以会退到想要回退的版本了。例如我们会退到“add gitignore file”那个版本。可以使用下面的命令。</p>
<p> <code>git reset --hard e9dadb</code></p>
<p> 注意不用写全，写前几位即可。当提交次数非常多时，这样查看可能就不太方便了，因为信息太多。我们可以让他在一行显示。</p>
<p> <code>git log --pertty=oneline</code></p>
<p> 效果大概是这样的</p>
<p><img src="/peakhell-web/2017/05/05/git常用操作1/oneline.png" alt="git log oneline">git log oneline</p>
<p> 要是我现在又反悔了，想要回到最新版本开发怎么办？先试试使用<code>git log</code>查看一下</p>
<p><img src="/peakhell-web/2017/05/05/git常用操作1/gitlog2.png" alt="git log 查看提交记录">git log 查看提交记录</p>
<p> 最新的提交记录不见了，怎么办？放心，在git中总是有后悔药可以吃的。git 提供了另一个命令，可以按时间查看提交记录。那就是reflog。我们用这个命令查看一下</p>
<p> <code>git reflog</code></p>
<p> 可以看到，最新的一次提交又出现了，接下来找到对应的commit id，再reset回去就好了。</p>
<p><img src="/peakhell-web/2017/05/05/git常用操作1/gitreflog.png" alt="git reflog"></p>
<p> 这个例子要回到最新的一个版本就是</p>
<p> <code>git reset --hard fb62</code></p>
<p> 总之，版本的切换命令用<code>git reset --hard &lt;commit id&gt;</code> ，而要找到对应提交的commit id 可以用<code>git log</code>和<code>git reflog</code> 。 如果记得要回到前几个版本，则可以用 <code>git reset --hard HEAD^</code> 。回退几个版本用几个^。</p>
<ol>
<li><strong>撤销修改与撤销添加</strong></li>
</ol>
<p><strong>撤销修改</strong></p>
<p> 设想你正在开发一个功能, 经过了一个上午的奋斗,你终于成功的开发了出来, 正当你准备提交的时候, 产品经理跟你说,这个功能取消吧,经费不够.操蛋虽操蛋,但该改还得改.如果你只修改了一个文件,可以这样</p>
<p> <code>git checkout -- &lt;filename&gt;</code></p>
<p> 如果是多个文件,那就用这个就行了.</p>
<p> <code>git checkout -- .</code></p>
<p>​</p>
<p><strong>撤销添加</strong></p>
<p> 非常不幸的,当你收到消息时,你已经添加了这个功能,但还好,还没有commit上去,这时候就要撤销添加了.</p>
<p> <code>git reset HEAD &lt;filename&gt;</code></p>
<p> 多个文件时,可以这样</p>
<p> <code>git reset HEAD .</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://peakhell.github.io/peakhell-web/2017/05/05/git常用操作1/" data-id="cj4gffknh0002a1cmt3gb8bvc" class="article-share-link">Share</a>
      
        <a href="https://peakhell.github.io/peakhell-web/2017/05/05/git常用操作1/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/peakhell-web/tags/git/">git</a></li></ul>

    </footer>
  </div>
  
</article>


  

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/peakhell-web/categories/杂想/">杂想</a></li><li class="category-list-item"><a class="category-list-link" href="/peakhell-web/categories/编程/">编程</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/peakhell-web/tags/flask/">flask</a></li><li class="tag-list-item"><a class="tag-list-link" href="/peakhell-web/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/peakhell-web/tags/jQuery-前端/">jQuery 前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/peakhell-web/tags/python-git/">python git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/peakhell-web/tags/故事/">故事</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/peakhell-web/tags/flask/" style="font-size: 10px;">flask</a> <a href="/peakhell-web/tags/git/" style="font-size: 20px;">git</a> <a href="/peakhell-web/tags/jQuery-前端/" style="font-size: 10px;">jQuery 前端</a> <a href="/peakhell-web/tags/python-git/" style="font-size: 10px;">python git</a> <a href="/peakhell-web/tags/故事/" style="font-size: 10px;">故事</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/peakhell-web/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/peakhell-web/archives/2017/05/">May 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/peakhell-web/2017/06/27/jQuery笔记/">jQuery笔记</a>
          </li>
        
          <li>
            <a href="/peakhell-web/2017/06/19/一些常用的操作总结/">一些常用的操作总结</a>
          </li>
        
          <li>
            <a href="/peakhell-web/2017/06/09/Flask-Api-总结/">Flask Api 总结</a>
          </li>
        
          <li>
            <a href="/peakhell-web/2017/05/31/让D3绘制的力导向图发光/">让D3绘制的力导向图发光</a>
          </li>
        
          <li>
            <a href="/peakhell-web/2017/05/18/写给快要毕业的自己/">写给快要毕业的自己</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner" style="text-align:center;">
      <table width="100%" border="0">
        <tr>
          <td style="text-align:left">
            Copyright &copy; 2014-2017 peakhell &nbsp; &nbsp;
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
          </td>
          <td style="text-align:right">
            <div style="font-family: FontAwesome;font-size: 20px;">
              <a href="http://weibo.com/3904642734" title="微博" target="_blank">&#61834;</a>&nbsp;
              <a href="http://zhihu.com" title="QQ空间" target="_blank">&#61910;</a>&nbsp;
              <a href="https://github.com/peakhell" title="GitHub" target="_blank">&#61595;</a>&nbsp;
              <a href="https://plus.google.com/118157846818083514683" title="Google+" target="_blank">&#61653;</a>
            </div><br>
            <a href="/sitemap.xml">网站地图</a>&nbsp; &nbsp;
            <a href="/atom.xml">订阅本站</a>&nbsp; &nbsp;
            <a href="mailto:hsgaomail.gmail.com" target="_blank">联系博主</a>&nbsp; &nbsp;
            ICP 备案呵呵
          </td>
        </tr>
      </table>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/peakhell-web/" class="mobile-nav-link">Home</a>
  
    <a href="/peakhell-web/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script>
  var disqus_shortname = 'https-peakhell-github-io-peakhell-web';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/peakhell-web/fancybox/jquery.fancybox.css">
  <script src="/peakhell-web/fancybox/jquery.fancybox.pack.js"></script>


<script src="/peakhell-web/js/script.js"></script>

  </div>
</body>
</html>