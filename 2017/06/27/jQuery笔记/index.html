<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>jQuery笔记(1)- 常见的DOM操作 | Peakhell的个人网站</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="​    jQuery非常好用, 但是也有一些地方要多加留意, 这里总结一下我犯过错误, 权当前车之鉴, 希望各位不要犯和我一样的错.  判断元素是否存在  判断元素是否存在在前端中应该是常见的操作, 在使用jQuery进行判断时要多加小心, 先看下面的代码 123if ($(&apos;.fly&apos;))&amp;#123;	console.log(&apos;i can fly&apos;)&amp;#125; 上面的代码看似没有问题, 但由">
<meta name="keywords" content="jQuery 前端">
<meta property="og:type" content="article">
<meta property="og:title" content="jQuery笔记(1)- 常见的DOM操作">
<meta property="og:url" content="https://peakhell.github.io/peakhell-web/2017/06/27/jQuery笔记/index.html">
<meta property="og:site_name" content="Peakhell的个人网站">
<meta property="og:description" content="​    jQuery非常好用, 但是也有一些地方要多加留意, 这里总结一下我犯过错误, 权当前车之鉴, 希望各位不要犯和我一样的错.  判断元素是否存在  判断元素是否存在在前端中应该是常见的操作, 在使用jQuery进行判断时要多加小心, 先看下面的代码 123if ($(&apos;.fly&apos;))&amp;#123;	console.log(&apos;i can fly&apos;)&amp;#125; 上面的代码看似没有问题, 但由">
<meta property="og:updated_time" content="2017-06-28T08:34:02.751Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="jQuery笔记(1)- 常见的DOM操作">
<meta name="twitter:description" content="​    jQuery非常好用, 但是也有一些地方要多加留意, 这里总结一下我犯过错误, 权当前车之鉴, 希望各位不要犯和我一样的错.  判断元素是否存在  判断元素是否存在在前端中应该是常见的操作, 在使用jQuery进行判断时要多加小心, 先看下面的代码 123if ($(&apos;.fly&apos;))&amp;#123;	console.log(&apos;i can fly&apos;)&amp;#125; 上面的代码看似没有问题, 但由">
  
    <link rel="alternate" href="/atom.xml" title="Peakhell的个人网站" type="application/atom+xml">
  
  
    <link rel="icon" href="/peakhell-web/fancybox/favicon.ico">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/peakhell-web/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/peakhell-web/" id="logo">Peakhell的个人网站</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/peakhell-web/" id="subtitle">编程,围棋,故事</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/peakhell-web/">Home</a>
        
          <a class="main-nav-link" href="/peakhell-web/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://peakhell.github.io/peakhell-web"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-jQuery笔记" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/peakhell-web/2017/06/27/jQuery笔记/" class="article-date">
  <time datetime="2017-06-27T07:27:35.000Z" itemprop="datePublished">2017-06-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      jQuery笔记(1)- 常见的DOM操作
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>​    jQuery非常好用, 但是也有一些地方要多加留意, 这里总结一下我犯过错误, 权当前车之鉴, 希望各位不要犯和我一样的错.</p>
<ol>
<li>判断元素是否存在</li>
</ol>
<p>判断元素是否存在在前端中应该是常见的操作, 在使用jQuery进行判断时要多加小心, 先看下面的代码</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> ($(<span class="string">'.fly'</span>))&#123;</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">'i can fly'</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>上面的代码看似没有问题, 但由于$(‘.fly’)返回的永远是一个对象, 所以不管<code>.fly</code>存不存在, 判断永远都是True. 正确的判断方法应该是根据元素的长度来判断.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> ($(<span class="string">'.fly'</span>)&gt;<span class="number">0</span>):</div><div class="line">	<span class="built_in">console</span>.log(<span class="string">'i can fly'</span>)</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<ol>
<li>常见的Dom操作</li>
</ol>
<p>Dom操作主要是对元素节点进行创建, 插入, 删除, 复制, 替换等操作, jQuery提供了一系列的方法方便的对节点进行操作, 但由于Dom操作繁琐复杂, 这里做一个常用Dom操作的总结. 以系统性的学习Dom操作. 为方便理解, 这里以下面的html代码为例进行讲解.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"go"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">h2</span>&gt;</span>围棋国手<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"柯洁"</span>&gt;</span>柯洁<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"唐韦星"</span>&gt;</span>唐韦星<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"李世石"</span>&gt;</span>李世石<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"test"</span>&gt;</span>test<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<ul>
<li>创建元素节点</li>
</ul>
<p>jQuery使用工厂函数$()来创建元素节点. 格式是这样的 </p>
<p><code>$(html)</code></p>
<p>例如在创建两个li标签, 可以这么写</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> $li1 = $(<span class="string">"&lt;li&gt;时越&lt;/li&gt;"</span>)</div><div class="line"><span class="keyword">var</span> $li2 = $(<span class="string">"&lt;li&gt;姜东润&lt;/li&gt;"</span>)</div></pre></td></tr></table></figure>
<p>注意这里的变量命名, 前面有个$, 这是为了区分jQuery对象与Dom对象. 上面的代码创建了两个包含文本的li标签,  我们还可以直接创建带有属性值的标签.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> $li3 = $(<span class="string">"&lt;li class='china' title='胡跃峰'&gt;胡跃峰&lt;/li&gt;"</span>)</div></pre></td></tr></table></figure>
<ul>
<li><p>插入元素节点</p>
<p>插入元素节点有很多种方法, 一般而言用的最多的是以下这几个:</p>
</li>
</ul>
<p><code>append()</code> : 向每个匹配的元素中添加内容. 添加的元素在尾部 </p>
<p><code>appendTo()</code>: 将所有匹配的元素追加到指定的元素. 添加的元素在尾部</p>
<p><code>pretend()</code> : 向每个匹配的元素中添加内容. 添加的元素在头部</p>
<p><code>pretendTo()</code> : 将所有匹配的元素添加到指定的元素中, 添加的元素在头部.</p>
<p><code>after()</code>: 在每个匹配的元素之后插入内容</p>
<p><code>before()</code>: 在每个匹配的元素之前插入内容</p>
<p>​    当然jQuery还提供了很多方法供我们插入Dom元素. 但最常见的操作主要还是以上集中, 下面仔细介绍每一种方法的用法.</p>
<p><strong>append</strong></p>
<p>​    append()应该是用的最多插入元素节点的方法了, 其用法也很简单, 先用jQuery选择器选中元素, 然后使用append()方法添加需要添加的元素就可以了.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"ul"</span>).append($li1)</div><div class="line">$(<span class="string">"ul"</span>).append($li2)</div></pre></td></tr></table></figure>
<p>​    上面的代码会在ul标签的内部后面追加两个li标签. 在chrome中可以看到html代码变成了</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"go"</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">h2</span>&gt;</span>围棋国手<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"柯洁"</span>&gt;</span>柯洁<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"唐韦星"</span>&gt;</span>唐韦星<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"李世石"</span>&gt;</span>李世石<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>时越<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span>姜东润<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"test"</span>&gt;</span>test<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p><strong>appendTo</strong></p>
<p>​    在插入元素的功能上与append一致, 但用法却正好相反, 看个例子就明白了.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$li1.appendTo(<span class="string">"ul"</span>)</div><div class="line">$li2.appendTo(<span class="string">"ul"</span>)</div></pre></td></tr></table></figure>
<p>生成代码与上个例子的append相同, 但与append的用法不同.两相比较就明白了.</p>
<p><strong>pretend</strong></p>
<p>​    pretend 的用法与append一致, 稍有不同的地方是pretend会在头部追加元素节点.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"ul"</span>).prepend($li1)</div><div class="line">$(<span class="string">"ul"</span>).prepend($li2)</div></pre></td></tr></table></figure>
<p>在chrome中查看源码:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"go"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>围棋国手<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span>姜东润<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">li</span>&gt;</span>时越<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"柯洁"</span>&gt;</span>柯洁<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"唐韦星"</span>&gt;</span>唐韦星<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"李世石"</span>&gt;</span>李世石<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"test"</span>&gt;</span>test<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p><strong>pretendTo</strong></p>
<p>​    无需多说了吧.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$li1.pretendTo(<span class="string">"ul"</span>)</div><div class="line">$li2.pretendTo(<span class="string">"ul"</span>)</div></pre></td></tr></table></figure>
<p>​    最后的效果与pretend的例子相同.</p>
<p><strong>after</strong></p>
<p>after会在每个匹配的元素后面添加元素节点, 也就是说使用after插入的是同级元素.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"li:eq(1)"</span>).after($li1)</div></pre></td></tr></table></figure>
<p>上面的代码意思是在第二个li元素后面添加$li1元素节点. 最后的源码是这样的.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"go"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>围棋国手<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"柯洁"</span>&gt;</span>柯洁<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"唐韦星"</span>&gt;</span>唐韦星<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">          	<span class="tag">&lt;<span class="name">li</span>&gt;</span>时越<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"李世石"</span>&gt;</span>李世石<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"test"</span>&gt;</span>test<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p><strong>before</strong></p>
<p>before会在每个匹配的元素前面添加元素节点, 表现的也是同级元素之间的关系.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"li:eq(1)"</span>).before($li1)</div></pre></td></tr></table></figure>
<p>上面的代码意思是在第二个li元素前面添加$li1元素节点, 最后的源码是这样的.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"go"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>围棋国手<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"柯洁"</span>&gt;</span>柯洁<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span>时越<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"唐韦星"</span>&gt;</span>唐韦星<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"李世石"</span>&gt;</span>李世石<span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"test"</span>&gt;</span>test<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>常见的元素节点的插入主要有以上几种, 注意这些都是可以配合使用的. </p>
<ul>
<li>删除元素节点</li>
</ul>
<p>元素节点的删除主要有三种方法, remove, detach 和empty.</p>
<p><strong>remove</strong></p>
<p>remove方法是从DOM中删除所有匹配的元素</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"ul&gt;li"</span>).remove()</div></pre></td></tr></table></figure>
<p>如上面的代码会把页面中所有的li标签删除,  当每个节点用remove方法删除后, 该节点所包含的后代节点将同时被删除. 还有一点很有趣, 就是该方法会返回指向删除节点的引用, 也就是说, 我们后续如果需要的话, 还是可以调用的.看下面的代码.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> $li = $(<span class="string">"ul&gt;li:eq(1)"</span>).remove()  <span class="comment">// 删除第二个li标签</span></div><div class="line">$li.appendTo(<span class="string">"ul"</span>)				     <span class="comment">// 把删除的标签添加到ul标签的内部</span></div></pre></td></tr></table></figure>
<p>你会发现被删除的元素还是可以被引用的. </p>
<p>还有一点需要注意的是, remove 是可以带参数的, 其含义是通过传递的参数进行选择性的删除元素.例如我们删除页面中title不为柯洁的标签可以这么写</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"ul li"</span>).remove(<span class="string">"li[title!=柯洁]"</span>)</div></pre></td></tr></table></figure>
<p><strong>detach</strong></p>
<p>和remove一样, 也是从DOM中删除所有匹配的元素, 并且节点仍是可以引用的. 和remove的不同点只有一个, 那就是使用detach删除的元素, 其中所有绑定的时间, 附加的数据都会保留下来. 而remove则不会.下面的例子可以说明这一点.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"ul li"</span>).on(<span class="string">"click"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</div><div class="line">  	$(<span class="keyword">this</span>).css(<span class="string">"color"</span>,<span class="string">"#888"</span>)</div><div class="line">&#125;)            <span class="comment">// 给li标签绑定事件</span></div><div class="line">$li = $(<span class="string">"ul li"</span>).detach()  <span class="comment">// 使用detach 删除元素</span></div><div class="line">$li.appendTo(<span class="string">"ul"</span>)         <span class="comment">// 把删除的元素重新添加到ul标签内部</span></div></pre></td></tr></table></figure>
<p>你会发现li标签绑定的事件仍是起作用的, 这说明detach方法返回的对象会保留标签绑定的方法以及附加的数据, 如果把上例中的detach 换成 remove, 则li 标签的事件不会起作用.这就是detach和remove 这两个方法之间的区别.</p>
<p><strong>empty</strong></p>
<p>准确点来说, empty是清空操作, empty方法会把选中元素的所有后代节点清空. </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"ul"</span>).empty</div></pre></td></tr></table></figure>
<p>上面的方法会把ul内部的元素节点全部清空. </p>
<ul>
<li>元素节点的复制 </li>
</ul>
<p>节点的复制也是DOM操作中常见的一个操作. </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"ul li:eq(1)"</span>).clone().appendTo(<span class="string">"ul"</span>)</div></pre></td></tr></table></figure>
<p>上面的代码会复制第二个li标签并添加到ul内部. 需要注意的是这样写复制的节点不具有任何行为和附加数据, 若要继承原始节点所拥有的事件行为或附加数据, 应在clone方法中添加参数true</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(&quot;ul li:eq(1)&quot;).clone(true).appendTo(&quot;ul&quot;)</div></pre></td></tr></table></figure>
<ul>
<li>替换元素节点</li>
</ul>
<p>jQuery提供了两种方法用以替换某个元素节点, 即replaceWith 和 replaceAll. replaceWith会把所有匹配的元素都替换成指定的HTML或者DOM元素.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> $li1 = $(<span class="string">"&lt;li&gt;时越&lt;/li&gt;"</span>)</div><div class="line">$(<span class="string">"ul li[title=柯洁]"</span>).replaceWith($li1)</div></pre></td></tr></table></figure>
<p>上面的代码会把li标签为柯洁那一行替换成指定的html.</p>
<p>也可以用replaceAll来完成, 两者的功能完全一致, 只是replaceAll颠倒了操作的顺序.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$li1.replaceAll(<span class="string">"ul li[title=柯洁]"</span>)</div></pre></td></tr></table></figure>
<ul>
<li>包裹元素节点</li>
</ul>
<p>如果要把某个节点用其他标签包裹起来, jQuery也提供了相对应的方法, 这是非常有用的.主要有三种wrap, wrapAll和wrapInner</p>
<p>例如我们要把li标签中的某些个表示强调, 可以用strong标签将其包裹起来. 使用jQuery可以这么写:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"ul li"</span>).wrap(<span class="string">"&lt;strong&gt;&lt;/strong&gt;"</span>)</div></pre></td></tr></table></figure>
<p>查看源码, 会发现所有的li 标签都被strong标签包裹. 如下所示:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"go"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>围棋国手<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"柯洁"</span>&gt;</span>柯洁<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"唐韦星"</span>&gt;</span>唐韦星<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"李世石"</span>&gt;</span>李世石<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"test"</span>&gt;</span>test<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>与wrap不同, wrapAll方法会对选中的元素整体进行包裹. </p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"ul li"</span>).wrapAll(<span class="string">"&lt;strong&gt;&lt;/strong&gt;"</span>)</div></pre></td></tr></table></figure>
<p>注意看源码, 会发现所有的li标签都被包裹在一个strong标签中</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"go"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>围棋国手<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">strong</span>&gt;</span><span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"柯洁"</span>&gt;</span>柯洁<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"唐韦星"</span>&gt;</span>唐韦星<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"李世石"</span>&gt;</span>李世石<span class="tag">&lt;/<span class="name">li</span>&gt;</span><span class="tag">&lt;/<span class="name">strong</span>&gt;</span>     </div><div class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"test"</span>&gt;</span>test<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>还有一个包裹的方法是wrapInner,  该方法将每一个匹配的元素的子内容(包括文本节点)用其他结构化的标记包裹起来</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$(<span class="string">"ul li"</span>).wrapInner(<span class="string">"&lt;strong&gt;&lt;/strong&gt;"</span>)</div></pre></td></tr></table></figure>
<p>观察源码,会发现strong会被添加到li标签的内部, 并对其中的文本进行包裹.</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"go"</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>围棋国手<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"柯洁"</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>柯洁<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"唐韦星"</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>唐韦星<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">title</span>=<span class="string">"李世石"</span>&gt;</span><span class="tag">&lt;<span class="name">strong</span>&gt;</span>李世石<span class="tag">&lt;/<span class="name">strong</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></div><div class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></div><div class="line">        <span class="tag">&lt;<span class="name">button</span> <span class="attr">id</span>=<span class="string">"test"</span>&gt;</span>test<span class="tag">&lt;/<span class="name">button</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></div></pre></td></tr></table></figure>
<p>​    </p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://peakhell.github.io/peakhell-web/2017/06/27/jQuery笔记/" data-id="cj4i7isw20006mccmgcvtpfg2" class="article-share-link">Share</a>
      
        <a href="https://peakhell.github.io/peakhell-web/2017/06/27/jQuery笔记/#disqus_thread" class="article-comment-link">Comments</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/peakhell-web/tags/jQuery-前端/">jQuery 前端</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/peakhell-web/2017/06/29/jQuery笔记2/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          jQuery笔记2
        
      </div>
    </a>
  
  
    <a href="/peakhell-web/2017/06/19/一些常用的操作总结/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">python3 虚拟环境常用操作</div>
    </a>
  
</nav>

  
</article>


<section id="comments">
  <div id="disqus_thread">
    <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  </div>
</section>
</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/peakhell-web/categories/杂想/">杂想</a></li><li class="category-list-item"><a class="category-list-link" href="/peakhell-web/categories/编程/">编程</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/peakhell-web/tags/flask-python/">flask python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/peakhell-web/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/peakhell-web/tags/jQuery/">jQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/peakhell-web/tags/jQuery-前端/">jQuery 前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/peakhell-web/tags/python-virtualenv/">python virtualenv</a></li><li class="tag-list-item"><a class="tag-list-link" href="/peakhell-web/tags/故事/">故事</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/peakhell-web/tags/flask-python/" style="font-size: 10px;">flask python</a> <a href="/peakhell-web/tags/git/" style="font-size: 20px;">git</a> <a href="/peakhell-web/tags/jQuery/" style="font-size: 10px;">jQuery</a> <a href="/peakhell-web/tags/jQuery-前端/" style="font-size: 10px;">jQuery 前端</a> <a href="/peakhell-web/tags/python-virtualenv/" style="font-size: 10px;">python virtualenv</a> <a href="/peakhell-web/tags/故事/" style="font-size: 10px;">故事</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/peakhell-web/archives/2017/06/">June 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/peakhell-web/archives/2017/05/">May 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/peakhell-web/2017/06/29/jQuery笔记2/">jQuery笔记2</a>
          </li>
        
          <li>
            <a href="/peakhell-web/2017/06/27/jQuery笔记/">jQuery笔记(1)- 常见的DOM操作</a>
          </li>
        
          <li>
            <a href="/peakhell-web/2017/06/19/一些常用的操作总结/">python3 虚拟环境常用操作</a>
          </li>
        
          <li>
            <a href="/peakhell-web/2017/06/09/Flask-Api-总结/">Flask Api 总结</a>
          </li>
        
          <li>
            <a href="/peakhell-web/2017/05/31/让D3绘制的力导向图发光/">让D3绘制的力导向图发光</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner" style="text-align:center;">
      <table width="100%" border="0">
        <tr>
          <td style="text-align:left">
            Copyright &copy; 2014-2017 peakhell &nbsp; &nbsp;
            Powered by <a href="http://hexo.io/" target="_blank">Hexo</a><br>
          </td>
          <td style="text-align:right">
            <div style="font-family: FontAwesome;font-size: 20px;">
              <a href="http://weibo.com/3904642734" title="微博" target="_blank">&#61834;</a>&nbsp;
              <a href="http://zhihu.com" title="QQ空间" target="_blank">&#61910;</a>&nbsp;
              <a href="https://github.com/peakhell" title="GitHub" target="_blank">&#61595;</a>&nbsp;
              <a href="https://plus.google.com/118157846818083514683" title="Google+" target="_blank">&#61653;</a>
            </div><br>
            <a href="/sitemap.xml">网站地图</a>&nbsp; &nbsp;
            <a href="/atom.xml">订阅本站</a>&nbsp; &nbsp;
            <a href="mailto:hsgaomail.gmail.com" target="_blank">联系博主</a>&nbsp; &nbsp;
            ICP 备案呵呵
          </td>
        </tr>
      </table>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/peakhell-web/" class="mobile-nav-link">Home</a>
  
    <a href="/peakhell-web/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    
<script>
  var disqus_shortname = 'https-peakhell-github-io-peakhell-web';
  
  var disqus_url = 'https://peakhell.github.io/peakhell-web/2017/06/27/jQuery笔记/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/peakhell-web/fancybox/jquery.fancybox.css">
  <script src="/peakhell-web/fancybox/jquery.fancybox.pack.js"></script>


<script src="/peakhell-web/js/script.js"></script>

  </div>
</body>
</html>